<!-- Title -->
<h2 class="graph-title">Lorem Lorem Lorem</h2>

<!-- Main Content Card -->
<div>
  <!-- Graph Container with Background -->
  <div class="graph-container">
    <!-- Dotted Grid Background -->
    <div class="grid-background"></div>
    
    <!-- Network Diagram -->
    <svg class="network-diagram" viewBox="0 0 800 280" xmlns="http://www.w3.org/2000/svg">
      <!-- Edges -->
      <!-- Arrow image between node 1 and node 2 -->
      <image x="140" y="80" width="80" height="40" href="assets/icons/arrow-1.svg" />
      <!-- Arrow image between node 2 and node 3 -->
      <image x="340" y="80" width="80" height="40" href="assets/icons/arrow-1.svg" />
      <!-- Arrow image from node 3 to nodes 4 and 5 -->
      <image x="535" y="55" width="120" height="90" href="assets/icons/arrow-2.svg" />
      
      <!-- Arrow marker definition -->
      <defs>
        <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
          <polygon points="0 0, 10 3.5, 0 7" fill="#9E9E9E" />
        </marker>
      </defs>
      
      <!-- Node 1: User node with purple overlay -->
      <g class="node" (mouseenter)="onNodeHover('1', $event)" (mouseleave)="onNodeLeave()">
        <image x="72" y="72" width="56" height="56" href="assets/icons/5.svg" />
        <!-- Label -->
        <text x="100" y="160" text-anchor="middle" font-size="14" fill="#424242">Loremipsumm</text>
      </g>
      
      <!-- Node 2: Server node -->
      <g class="node" (mouseenter)="onNodeHover('2', $event)" (mouseleave)="onNodeLeave()">
        
        <image x="272" y="72" width="56" height="56" href="assets/icons/node-2.svg" />
        <!-- Label -->
        <text x="300" y="160" text-anchor="middle" font-size="14" fill="#424242">Loremipsu</text>
      </g>
      
      <!-- Node 3: Server node -->
      <g class="node" (mouseenter)="onNodeHover('3', $event)" (mouseleave)="onNodeLeave()">
        <image x="472" y="72" width="56" height="56" href="assets/icons/node-2.svg" />
        <!-- Label -->
        <text x="500" y="160" text-anchor="middle" font-size="14" fill="#424242">Loremipsu</text>
      </g>
      
      <!-- Node 4: Server node -->
      <g class="node" (mouseenter)="onNodeHover('4', $event)" (mouseleave)="onNodeLeave()">
        <image x="672" y="2" width="56" height="56" href="assets/icons/4.svg" />
        <!-- Label -->
        <text x="700" y="90" text-anchor="middle" font-size="14" fill="#424242">Loremipsumdolorsit</text>
        <text x="700" y="105" text-anchor="middle" font-size="12" fill="#999">192.168.1.1</text>
      </g>
      
      <!-- Node 5: Server node -->
      <g class="node" (mouseenter)="onNodeHover('5', $event)" (mouseleave)="onNodeLeave()">
        <image x="672" y="142" width="56" height="56" href="assets/icons/4.svg" />
        <!-- Label -->
        <text x="700" y="230" text-anchor="middle" font-size="14" fill="#424242">Loremipsumdolorsit002</text>
        <text x="700" y="245" text-anchor="middle" font-size="12" fill="#999">192.168.1.2</text>
      </g>
    </svg>
    
    <!-- Divider Line -->
    <div class="divider"></div>
    
    <!-- Legend -->
    <div class="legend">
      <div class="legend-item critical">
        <img src="assets/icons/1.svg" alt="Critical" class="legend-icon" />
        <span class="legend-text">Lorem</span>
      </div>
      <div class="legend-item warning">
        <img src="assets/icons/2.svg" alt="Warning" class="legend-icon" />
        <span class="legend-text">Lorem</span>
      </div>
      <div class="legend-item secure">
        <img src="assets/icons/3.svg" alt="Secure" class="legend-icon" />
        <span class="legend-text">Lorem</span>
      </div>
    </div>
  </div>
</div>

  <!-- Node Popover -->
  <div 
    *ngIf="popover.visible && selectedNode" 
    class="node-popover"
    [style.left.px]="popover.x"
    [style.top.px]="popover.y"
    (mouseenter)="onPopoverHover()"
    (mouseleave)="onPopoverLeave()"
    (click)="closePopover()"
  >
    <div class="popover-content">
      <!-- Title chip -->
      <div class="title-chip">
        <span class="title-text">Lorem Ipsum Dolor Sit</span>
      </div>
      
      <!-- IP grid -->
      <div class="ip-grid">
        <span class="ip-pill">1.2.3.4</span>
        <span class="ip-pill">1.2.3.4</span>
        <span class="ip-pill">1.2.3.4</span>
        <span class="ip-pill">1.2.3.4</span>
        <span class="ip-pill">1.2.3.4</span>
        <span class="ip-pill">1.2.3.4</span>
      </div>
      
      <!-- Footer pill -->
      <div class="footer-pill">
        <span class="footer-text">Lorem: 1.2.3.4</span>
      </div>
    </div>
  </div>